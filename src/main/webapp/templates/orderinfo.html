
<div class="container" ng-controller="orderCtrl">
    <div class="row profile">
        <div class="col-md-3">
            <div ng-include src="'templates/profile-menu.html'"></div>
        </div>

        <div class="col-md-9">
            <div class="profile-content">
                <div class="col-sm-12">
                    <div class="col-xs-12 col-sm-10">
                        <div class="bootstrap-iso">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-12 col-sm-6 col-xs-12 ">
                                        <div class="formden_header col-sm-offset-6">
                                            <h2>Application info</h2>
                                        </div>
                                        <div class="container col-md-12 col-md-offset-2">
                                            <form class="order" ng-controller="orderinfoCtrl">
                                            <table class="table table-hover order-table">

                                                <tbody>
                                                <tr>
                                                    <td>Id client</td>
                                                    <td>{{order.partner.id}}</td>
                                                </tr>
                                                <tr ng-if="userData.role != 'CLIENT'">
                                                    <td>Id courier</td>
                                                    <td ng-if="isAssignedCourier==true">
                                                        {{order.courier.id}}
                                                    </td>
                                                    <td ng-if="isAssignedCourier==false">
                                                        <select ng-options="courier.id for courier in couriers" name="order.courier" id="order.courier" ng-model="order.courier">
                                                        </select>

                                                    </td>

                                                </tr>
                                                <tr>
                                                    <td>Login</td>
                                                    <td>{{userData.login}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Name</td>
                                                    <td>{{userData.fullName}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Passport</td>
                                                    <td>{{userData.passport}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Phone</td>
                                                    <td>{{userData.phone}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Date</td>
                                                    <td>{{order.date}}</td>
                                                    </tr>
                                                <tr>
                                                    <td>Distance</td>
                                                    <td>{{order.distance}}</td>
                                                    </tr>
                                                <tr>
                                                    <td>From</td>
                                                    <td>{{order.from}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Shipping</td>
                                                    <td>{{order.shipping.name}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Status</td>
                                                    <td>
                                                        <div ng-if="order.status=='DELIVERED' || order.status=='CANCELED'">
                                                            {{order.status}}
                                                        </div>
                                                        <div ng-if="order.status!='DELIVERED' && order.status!='CANCELED'">
                                                            <select ng-model="order.status" ng-if="user.role=='CLIENT'">
                                                            <option value="AWAITING">AWAITING</option>
                                                                <option value="AWAITING">CANCELED</option>
                                                            </select>
                                                            <select ng-model="order.status" ng-if="user.role=='MANAGER'">
                                                                <option value="AWAITING">AWAITING</option>
                                                                <option value="DELIVERY">DELIVERY</option>
                                                                <option value="DECLINED">DECLINED</option>
                                                            </select>
                                                            <select ng-model="order.status" ng-if="user.role=='COURIER'">
                                                                <option value="AWAITING">AWAITING</option>
                                                                <option value="AWAITING">CANCELED</option>
                                                            </select>
                                                            </div>
                                                        </td>
                                                </tr>
                                                <tr>
                                                    <td>To</td>
                                                    <td>{{order.to}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Total</td>
                                                    <td>{{order.total}}</td>
                                                <tr>
                                                    <td>Weight</td>
                                                    <td>{{order.weight}}</td>
                                                </tr>

                                                </tbody>
                                            </table>
                                                <div ng-if="successMessage!=''">
                                                    <div class="form-group">
                                                        <div class="success-message">{{successMessage}}</div>
                                                    </div>
                                                </div>
                                                <div ng-if="errorMessage!=''">
                                                    <div class="form-group">
                                                        <div class="error-message">{{errorMessage}}</div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-8 col-sm-offset-2">
                                                    <div class="buttons">
                                                    <button class="btn btn-primary " name="submit" type="submit" data-ng-click="saveCourier()">Assign courier</button>
                                                    <button class="btn btn-primary " name="submit" type="submit" data-ng-click="saveStatus()">Save status</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>